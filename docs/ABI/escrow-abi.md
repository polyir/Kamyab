# ๐ ุฑุงูููุง ABI ุจุฑุง ูุฑุงุฑุฏุงุฏ Escrow (escrow\.fc)

ุงู ุณูุฏ ุฑุงุจุทโูุง ุนููู ูุฑุงุฑุฏุงุฏ ุงุณฺฉุฑู ุฑุง ุจุฑุง ุงุณุชูุงุฏู DAppูุงุ DAO ู ูุฑุงุฑุฏุงุฏูุง ุฏฺฏุฑ ุชูุถุญ ูโุฏูุฏ.

---

## ๐น 1. ููุฏุงุฑุฏู ุงููู (init)

* **ููุน:** `()`
* **ุนููฺฉุฑุฏ:**

  * ุฐุฎุฑู ุขุฏุฑุณ ูุฑุงุฎูุงููุฏู (`deployer`) ุจูโุนููุงู `governance_address`
* **ูพุงุฑุงูุชุฑูุง:** ูุฏุงุฑุฏ
* **ุฎุฑูุฌ:** `()`

---

## ๐น 2. ุชุนู ุขุฏุฑุณ ูุฑุงุฑุฏุงุฏ ุชูฺฉู KYT

* **ูุงู ุชุงุจุน:** `set_token_address`
* **ููุน:** ุชุงุจุน ุฎุงุฑุฌ
* **ูพุงุฑุงูุชุฑูุง:**

  * `new_token: slice` โถ ุขุฏุฑุณ ูุฑุงุฑุฏุงุฏ ุชูฺฉู
* **ูุญุฏูุฏุช:** ููุท ุชูุณุท `governance_address`

---

## ๐น 3. ุชุบุฑ ุขุฏุฑุณ ุญุงฺฉู (DAO)

* **ูุงู ุชุงุจุน:** `set_governance`
* **ููุน:** ุชุงุจุน ุฎุงุฑุฌ
* **ูพุงุฑุงูุชุฑูุง:**

  * `new_gov: slice` โถ ุขุฏุฑุณ ุญุงฺฉู ุฌุฏุฏ (DAO)
* **ูุญุฏูุฏุช:** ููุท ุชูุณุท `governance_address`

---

## ๐น 4. ุดุฑูุน ุชุฑุงฺฉูุด ุงุณฺฉุฑู (initiate)

* **ููุน:** ุชุงุจุน ุฎุงุฑุฌ
* **ูุงู ุชุงุจุน:** `initiate`
* **ูพุงุฑุงูุชุฑูุง:**

  * `receiver: slice` โถ ุขุฏุฑุณ ุฑุงููุฏู
  * `amount: int` โถ ููุฏุงุฑ ุชูฺฉู KYT ฺฉู ุจุงุฏ ููู ุดูุฏ
* **ุนููฺฉุฑุฏ:**

  * ุงุฌุงุฏ ุชุฑุงฺฉูุด ุฌุฏุฏ ุจุง ูุถุนุช `PENDING`
  * ุงูุชูุงู ุชูฺฉู ุงุฒ ฺฉุงุฑุจุฑ ุจู ูุฑุงุฑุฏุงุฏ ุงุณฺฉุฑู ุงุฒ ุทุฑู `call` ุจู ุชูฺฉู
* **ูุญุฏูุฏุช:** ูุงุฒููุฏ ููุฌูุฏ ฺฉุงู

---

## ๐น 5. ุชุฃุฏ ุชุญูู ฺฉุงูุง (confirm)

* **ููุน:** ุชุงุจุน ุฎุงุฑุฌ
* **ูุงู ุชุงุจุน:** `confirm`
* **ูพุงุฑุงูุชุฑูุง:**

  * `tx_id: int` โถ ุดูุงุณู ุชุฑุงฺฉูุด
* **ุนููฺฉุฑุฏ:**

  * ุงฺฏุฑ ูุฑุงุฎูุงููุฏูุ ููุงู ุตุงุญุจ ุจุงุฑ ุจุงุดุฏุ ุงูุชูุงู ุชูฺฉู ุจู ุฑุงููุฏู ุงูุฌุงู ูโุดูุฏ
  * ูุถุนุช ุชุฑุงฺฉูุด ุจู `COMPLETED` ุชุบุฑ ูโฺฉูุฏ
* **ูุญุฏูุฏุช:** ููุท ูุฑุณุชูุฏู ุงุตู ุชุฑุงฺฉูุด ูโุชูุงูุฏ ุชุฃุฏ ฺฉูุฏ

---

## ๐น 6. ุจุงุฒูพุฑุฏุงุฎุช ูุฌู (refund)

* **ููุน:** ุชุงุจุน ุฎุงุฑุฌ
* **ูุงู ุชุงุจุน:** `refund`
* **ูพุงุฑุงูุชุฑูุง:**

  * `tx_id: int` โถ ุดูุงุณู ุชุฑุงฺฉูุด
* **ุนููฺฉุฑุฏ:**

  * ุจุงุฒฺฏุฑุฏุงูุฏู ูุจูุบ ุชูฺฉู ุจู ุตุงุญุจ ุจุงุฑ ุฏุฑ ุตูุฑุช ูุงุฒ
  * ููุท ุชูุณุท `governance_address` ุงูุฌุงูโูพุฐุฑ ุงุณุช
  * ูุถุนุช ุจู `REFUNDED` ุชุบุฑ ูโุงุจุฏ

---

## ๐ ูุถุนุชโูุง ููฺฉู ุชุฑุงฺฉูุดโูุง:

* `0 = PENDING`   โถ ุฏุฑ ุงูุชุธุงุฑ ุชุฃุฏ
* `1 = COMPLETED` โถ ูพุฑุฏุงุฎุช ฺฉุงูู ุดุฏู
* `2 = REFUNDED`  โถ ูุฌู ุจุงุฒฺฏุฑุฏุงูุฏู ุดุฏู

---

**ุงู ABI ุจุฑุง ุงุชุตุงู ุขุณุงู ูุฑุงุฑุฏุงุฏ ุงุณฺฉุฑู ุจู DAOุ ุงูพูฺฉุดู ุชูฺฏุฑุงู ู ุชุณุชโูุง ุฎูุฏฺฉุงุฑ ุฏุฑ ุดุจฺฉู TON ุทุฑุงุญ ุดุฏู ุงุณุช.**
